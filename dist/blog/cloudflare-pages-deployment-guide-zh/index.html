<!DOCTYPE html><html lang=en><head><script>!function(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme");"dark"===t?document.documentElement.classList.add("dark"):"light"===t?document.documentElement.classList.add("light"):e&&(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"))}()</script><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=/favicon.ico rel=icon type=image/x-icon><link href=/favicon.ico rel=apple-touch-icon><meta content="Astro v5.10.0" name=generator><link href=https://tannisanta.github.io/inwriting/blog/cloudflare-pages-deployment-guide-zh/ rel=canonical><meta content=#ffffff name=theme-color media="(prefers-color-scheme: light)"><meta content=#0f172a name=theme-color media="(prefers-color-scheme: dark)"><title>从零开始：Cloudflare Pages部署配置完全指南 | Product WhoAmI</title><link href=https://tannisanta.github.io/inwriting/blog/cloudflare-pages-deployment-guide-zh/ rel=canonical><meta content="详细介绍如何使用Cloudflare Pages部署静态网站，包括GitHub集成、域名配置和性能优化的完整流程" name=description><meta content="index, follow" name=robots><meta content="从零开始：Cloudflare Pages部署配置完全指南 | Product WhoAmI" property=og:title><meta content=article property=og:type><meta content=/images/default-social.png property=og:image><meta content=https://tannisanta.github.io/inwriting/blog/cloudflare-pages-deployment-guide-zh/ property=og:url><meta content="详细介绍如何使用Cloudflare Pages部署静态网站，包括GitHub集成、域名配置和性能优化的完整流程" property=og:description><meta content=summary_large_image name=twitter:card><meta content="从零开始：Cloudflare Pages部署配置完全指南 | Product WhoAmI" name=twitter:title><meta content=/images/default-social.png name=twitter:image><meta content="详细介绍如何使用Cloudflare Pages部署静态网站，包括GitHub集成、域名配置和性能优化的完整流程" name=twitter:description><link href=/inwriting/_astro/about.CVwCmZPY.css rel=stylesheet><script>!function(t,e,n,r){(window.crossOriginIsolated||navigator.serviceWorker)&&((r=t[e]=Object.assign(t[e]||{},{lib:"/inwriting/~partytown/",debug:!1}))[n]=(r[n]||[]).concat(["dataLayer.push"]))}(window,"partytown","forward");const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((()=>{const t=new Set;let e=[];do{Object.getOwnPropertyNames(e).forEach((n=>{"function"==typeof e[n]&&t.add(n)}))}while((e=Object.getPrototypeOf(e))!==Object.prototype);return Array.from(t)})());!function(t,r,o,i,a,s,c,d,l,p,u=t,f){function y(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(l=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(h,(null==s?void 0:s.fallbackTimeout)||1e4),r.addEventListener("pt0",b),a?w(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?w():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&w()}))}),console.error):h())))}function w(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.11.1":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function h(n,o){for(b(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<l.length;n++)(o=r.createElement("script")).innerHTML=l[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function b(){clearTimeout(d)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?y():(t.addEventListener("DOMContentLoaded",y),t.addEventListener("load",y))}(window,document,navigator,top,window.crossOriginIsolated),document.addEventListener("astro:before-swap",(t=>{let e=document.body.querySelector("iframe[src*='/inwriting/~partytown/']");e&&t.newDocument.body.append(e)}))</script></head><body class="transition-colors bg-white dark:bg-slate-900 dark:text-slate-50 duration-300 min-h-screen text-slate-900"><div class="flex flex-col lg:flex-row min-h-screen"><div class="bg-white border-slate-200 dark:bg-slate-900 dark:border-slate-800 fixed top-0 border-b inset-x-0 lg:hidden z-50"><div class="flex items-center px-4 h-16 justify-between"><a href=/ class="flex items-center gap-2 font-bold text-xl"><span class="dark:text-indigo-400 text-indigo-600 h-6 w-6" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> </span><span>Gerrad Zhang</span></a><div class="flex items-center gap-2"><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(self.Astro||(self.Astro={})).idle=(e,t)=>{let i=async()=>{await(await e())()},l="object"==typeof t.value?t.value:void 0,o={timeout:null==l?void 0:l.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,o):setTimeout(i,o.timeout||200)},window.dispatchEvent(new Event("astro:idle"))</script><script>(()=>{var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);{let t={0:t=>s(t),1:t=>n(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(n(t)),5:t=>new Set(n(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},r=e=>{let[r,n]=e;return r in t?t[r](n):void 0},n=t=>t.map(r),s=t=>"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map((([t,e])=>[t,r(e)])));class i extends HTMLElement{constructor(){super(...arguments),e(this,"Component"),e(this,"hydrator"),e(this,"hydrate",(async()=>{var t;if(!this.hydrator||!this.isConnected)return;let e=null==(t=this.parentElement)?void 0:t.closest("astro-island[ssr]");if(e)return void e.addEventListener("astro:hydrate",this.hydrate,{once:!0});let r,n=this.querySelectorAll("astro-slot"),i={},o=this.querySelectorAll("template[data-astro-template]");for(let t of o){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("data-astro-template")||"default"]=t.innerHTML,t.remove())}for(let t of n){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("name")||"default"]=t.innerHTML)}try{r=this.hasAttribute("props")?s(JSON.parse(this.getAttribute("props"))):{}}catch(t){let e=this.getAttribute("component-url")||"<unknown>",r=this.getAttribute("component-export");throw r&&(e+=` (export ${r})`),console.error(`[hydrate] Error parsing props for component ${e}`,this.getAttribute("props"),t),t}await this.hydrator(this)(this.Component,r,i,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))})),e(this,"unmount",(()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))}))}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(this.hasAttribute("await-children")&&"interactive"!==document.readyState&&"complete"!==document.readyState){let t=()=>{document.removeEventListener("DOMContentLoaded",t),e.disconnect(),this.childrenConnectedCallback()},e=new MutationObserver((()=>{var e;(null==(e=this.lastChild)?void 0:e.nodeType)===Node.COMMENT_NODE&&"astro:end"===this.lastChild.nodeValue&&(this.lastChild.remove(),t())}));e.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",t)}else this.childrenConnectedCallback()}async childrenConnectedCallback(){let t=this.getAttribute("before-hydration-url");t&&await import(t),this.start()}async start(){let t=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(void 0!==Astro[e])try{await Astro[e]((async()=>{let t=this.getAttribute("renderer-url"),[e,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),t?import(t):()=>()=>{}]),n=this.getAttribute("component-export")||"default";if(n.includes(".")){this.Component=e;for(let t of n.split("."))this.Component=this.Component[t]}else this.Component=e[n];return this.hydrator=r,this.hydrate}),t,this)}catch(t){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,t)}else window.addEventListener(`astro:${e}`,(()=>this.start()),{once:!0})}attributeChangedCallback(){this.hydrate()}}e(i,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",i)}})()</script><astro-island await-children client=idle component-export=default component-url=/inwriting/_astro/ThemeToggleIsland.WjKVNQXF.js opts={&quot;name&quot;:&quot;ThemeToggleIsland&quot;,&quot;value&quot;:true} prefix=r3 props={} renderer-url=/inwriting/_astro/client.CXm1OtE-.js ssr uid=ZrsIk8><button class="transition-colors rounded-full dark:hover:bg-slate-800 hover:bg-slate-100 p-2" aria-label="Toggle theme" disabled="" type=button><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 class="h-5 w-5 text-slate-400"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button><!--astro:end--></astro-island><button class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" aria-label="Toggle menu" id=mobile-menu-button data-menu-open=false><span class="h-6 w-6 block" style=width:24px;height:24px id=menu-open-icon><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><line x1=3 x2=21 y1=12 y2=12></line><line x1=3 x2=21 y1=6 y2=6></line><line x1=3 x2=21 y1=18 y2=18></line></svg> </span><span class="h-6 w-6 hidden" style=width:24px;height:24px id=menu-close-icon><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><line x1=18 x2=6 y1=6 y2=18></line><line x1=6 x2=18 y1=6 y2=18></line></svg></span></button></div></div><div class="bg-white border-slate-200 dark:bg-slate-900 dark:border-slate-800 hidden p-4 border-t" id=mobile-menu-panel><nav class=space-y-4><a href=/ class="transition-colors block dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg">Home</a> <a href=/blog class="transition-colors block dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg">Blog</a> <a href=/projects class="transition-colors block dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg">Projects</a> <a href=/about class="transition-colors block dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg">About</a><div class="border-slate-200 dark:border-slate-800 border-t pt-4"><p class="text-xs dark:text-slate-400 text-slate-500 font-semibold tracking-wider uppercase mb-2">Categories</p><div class=space-y-1><a href=/categories/documentation class="transition-colors dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg flex items-center justify-between"><span>documentation</span> <span class="text-xs bg-slate-200 dark:bg-slate-700 dark:text-slate-300 px-2 py-0.5 rounded-full text-slate-600">1</span></a></div></div><div class="border-slate-200 dark:border-slate-800 border-t pt-4"><p class="text-xs dark:text-slate-400 text-slate-500 font-semibold tracking-wider uppercase mb-2">Connect</p><div class="flex items-center space-x-3"><a href=https://github.com/copyboy class="p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800" aria-label=GitHub><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> </span></a><a href=https://www.linkedin.com/in/gerrad-zhang-452a15216/ class="p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800" aria-label=LinkedIn><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24><path d="M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2M8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12m12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z" fill=currentColor /></svg> </span></a><a href=/api/rss.xml class="p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800" aria-label=RSS><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx=5 cy=19 r=1></circle></svg></span></a></div></div></nav></div></div><script type=module>document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("mobile-menu-button"),n=document.getElementById("mobile-menu-panel");e&&n&&(e.addEventListener("click",(()=>{const t="true"===e.getAttribute("data-menu-open");e.setAttribute("data-menu-open",(!t).toString()),t?(n.classList.add("hidden"),e.querySelector("#menu-open-icon").classList.remove("hidden"),e.querySelector("#menu-open-icon").classList.add("block"),e.querySelector("#menu-close-icon").classList.add("hidden"),e.querySelector("#menu-close-icon").classList.remove("block")):(n.classList.remove("hidden"),e.querySelector("#menu-open-icon").classList.add("hidden"),e.querySelector("#menu-open-icon").classList.remove("block"),e.querySelector("#menu-close-icon").classList.remove("hidden"),e.querySelector("#menu-close-icon").classList.add("block"))})),document.addEventListener("click",(e=>{})))}))</script><nav class="flex flex-col bg-white border-r border-slate-200 dark:bg-slate-900 dark:border-slate-800 h-full hidden lg:fixed lg:flex lg:flex-col lg:inset-y-0 lg:w-64 p-4 shrink-0"><div class=py-4><a href=/ class="flex items-center gap-2 font-bold text-xl"><span class="dark:text-indigo-400 text-indigo-600 h-6 w-6" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> </span><span>Gerrad Zhang</span></a></div><div class="flex-1 mt-8 space-y-6"><div><h3 class="text-xs dark:text-slate-400 text-slate-500 font-semibold tracking-wider uppercase mb-3">Navigation</h3><ul class=space-y-2><li><a href=/ class="transition-colors dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg flex items-center gap-2"><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg> </span><span>Home</span></a></li><li><a href=/blog class="transition-colors dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg flex items-center gap-2"><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1=16 x2=8 y1=13 y2=13></line><line x1=16 x2=8 y1=17 y2=17></line><polyline points="10 9 9 9 8 9"></polyline></svg> </span><span>Blog</span></a></li><li><a href=/projects class="transition-colors dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg flex items-center gap-2"><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.29 7 12 12 20.71 7"></polyline><line x1=12 x2=12 y1=22 y2=12></line></svg> </span><span>Projects</span></a></li><li><a href=/about class="transition-colors dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg flex items-center gap-2"><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx=12 cy=7 r=4></circle></svg> </span><span>About</span></a></li></ul></div><div><h3 class="text-xs dark:text-slate-400 text-slate-500 font-semibold tracking-wider uppercase mb-3">Categories</h3><ul class=space-y-1><li><a href=/categories/documentation class="transition-colors block dark:hover:bg-slate-800 hover:bg-slate-100 p-2 rounded-lg flex items-center justify-between"><span>documentation</span> <span class="text-xs bg-slate-200 dark:bg-slate-700 dark:text-slate-300 px-2 py-0.5 rounded-full text-slate-600">1</span></a></li></ul></div></div><div class="border-slate-200 dark:border-slate-800 border-t pt-4 mt-auto"><div class="flex items-center justify-between"><div class="flex space-x-2"><a href=https://github.com/copyboy class="transition-colors rounded-full dark:hover:bg-slate-800 hover:bg-slate-100 p-2" aria-label=GitHub><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg> </span></a><a href=https://www.linkedin.com/in/gerrad-zhang-452a15216/ class="transition-colors rounded-full dark:hover:bg-slate-800 hover:bg-slate-100 p-2" aria-label=LinkedIn><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24><path d="M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2M8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12m12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z" fill=currentColor /></svg> </span></a><a href=/api/rss.xml class="transition-colors rounded-full dark:hover:bg-slate-800 hover:bg-slate-100 p-2" aria-label=RSS><span class="h-5 w-5" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx=5 cy=19 r=1></circle></svg></span></a></div><astro-island await-children client=idle component-export=default component-url=/inwriting/_astro/ThemeToggleIsland.WjKVNQXF.js opts={&quot;name&quot;:&quot;ThemeToggleIsland&quot;,&quot;value&quot;:true} prefix=r4 props={} renderer-url=/inwriting/_astro/client.CXm1OtE-.js ssr uid=ZrsIk8><button class="transition-colors rounded-full dark:hover:bg-slate-800 hover:bg-slate-100 p-2" aria-label="Toggle theme" disabled="" type=button><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 class="h-5 w-5 text-slate-400"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button><!--astro:end--></astro-island></div></div></nav><main class="flex-1 lg:ml-64 lg:pt-0 pt-16 px-4 w-full xl:mr-72"><div class="mx-auto max-w-3xl py-8"><article class=mx-auto><header class=mb-8><div class="flex gap-2 flex-wrap mb-4"><a href=/tags/cloudflare class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full inline-flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1=7 x2=7.01 y1=7 y2=7 /></svg> </span>Cloudflare </a><a href=/tags/部署 class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full inline-flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1=7 x2=7.01 y1=7 y2=7 /></svg> </span>部署 </a><a href=/tags/静态网站 class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full inline-flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1=7 x2=7.01 y1=7 y2=7 /></svg> </span>静态网站 </a><a href=/tags/域名配置 class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full inline-flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1=7 x2=7.01 y1=7 y2=7 /></svg> </span>域名配置 </a><a href=/tags/性能优化 class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full inline-flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1=7 x2=7.01 y1=7 y2=7 /></svg> </span>性能优化</a></div><h1 class="mb-4 font-bold sm:text-4xl text-3xl">从零开始：Cloudflare Pages部署配置完全指南</h1><p class="mb-4 dark:text-slate-300 text-slate-600 text-lg">详细介绍如何使用Cloudflare Pages部署静态网站，包括GitHub集成、域名配置和性能优化的完整流程</p><div class="text-sm mb-4 dark:text-slate-300 flex flex-wrap gap-4 items-center text-slate-600"><div class="flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx=12 cy=7 r=4></circle></svg> </span><span>Gerrad Zhang</span></div><div class="flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx=12 cy=10 r=3></circle></svg> </span><span>Wuhan, China</span></div><div class="flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><rect height=18 rx=2 ry=2 width=18 x=3 y=4></rect><line x1=16 x2=16 y1=2 y2=6></line><line x1=8 x2=8 y1=2 y2=6></line><line x1=3 x2=21 y1=10 y2=10></line></svg> </span><time datetime=2025-06-06T00:00:00.000Z>Jun 6, 2025</time></div><div class="flex items-center"><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><circle cx=12 cy=12 r=10></circle><polyline points="12 6 12 12 16 14"></polyline></svg> </span><span>2 min read</span></div><div class=relative><button class="transition-colors flex items-center hover:text-indigo-600 dark:hover:text-indigo-400" aria-label="Share this article" id=shareButton><span class="h-4 w-4 mr-1" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><circle cx=18 cy=5 r=3></circle><circle cx=6 cy=12 r=3></circle><circle cx=18 cy=19 r=3></circle><line x1=8.59 x2=15.42 y1=13.51 y2=17.49></line><line x1=15.41 x2=8.59 y1=6.51 y2=10.49></line></svg> </span><span>Share</span></button><div class="bg-white dark:bg-slate-800 absolute hidden mt-2 right-0 ring-1 ring-black ring-opacity-5 rounded-md shadow-lg w-48 z-10" id=shareMenu><div class=py-1 aria-orientation=vertical role=menu><button class="text-sm dark:hover:bg-slate-700 items-center dark:text-gray-200 flex hover:bg-gray-100 px-4 py-2 text-gray-700 text-left w-full share-twitter"><span class="h-4 w-4 mr-2" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg> </span>Twitter | X</button> <button class="text-sm dark:hover:bg-slate-700 items-center dark:text-gray-200 flex hover:bg-gray-100 px-4 py-2 text-gray-700 text-left w-full share-facebook"><span class="h-4 w-4 mr-2" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24><path d="M20.9 2H3.1A1.1 1.1 0 0 0 2 3.1v17.8A1.1 1.1 0 0 0 3.1 22h9.58v-7.75h-2.6v-3h2.6V9a3.64 3.64 0 0 1 3.88-4a20 20 0 0 1 2.33.12v2.7H17.3c-1.26 0-1.5.6-1.5 1.47v1.93h3l-.39 3H15.8V22h5.1a1.1 1.1 0 0 0 1.1-1.1V3.1A1.1 1.1 0 0 0 20.9 2" fill=currentColor /></svg> </span>Facebook</button> <button class="text-sm dark:hover:bg-slate-700 items-center dark:text-gray-200 flex hover:bg-gray-100 px-4 py-2 text-gray-700 text-left w-full share-linkedin"><span class="h-4 w-4 mr-2" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24><path d="M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2M8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12m12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z" fill=currentColor /></svg> </span>LinkedIn</button> <button class="text-sm dark:hover:bg-slate-700 items-center dark:text-gray-200 flex hover:bg-gray-100 px-4 py-2 text-gray-700 text-left w-full share-wechat"><span class="h-4 w-4 mr-2" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24><path d="M15.85 8.14c.39 0 .77.03 1.14.08C16.31 5.25 13.19 3 9.44 3c-4.25 0-7.7 2.88-7.7 6.43c0 2.05 1.15 3.86 2.94 5.04L3.67 16.5l2.76-1.19c.59.21 1.21.38 1.87.47c-.09-.39-.14-.79-.14-1.21c-.01-3.54 3.44-6.43 7.69-6.43M12 5.89a.96.96 0 1 1 0 1.92a.96.96 0 0 1 0-1.92M6.87 7.82a.96.96 0 1 1 0-1.92a.96.96 0 0 1 0 1.92" fill=currentColor /><path d="M22.26 14.57c0-2.84-2.87-5.14-6.41-5.14s-6.41 2.3-6.41 5.14s2.87 5.14 6.41 5.14c.58 0 1.14-.08 1.67-.2L20.98 21l-1.2-2.4c1.5-.94 2.48-2.38 2.48-4.03m-8.34-.32a.96.96 0 1 1 .96-.96c.01.53-.43.96-.96.96m3.85 0a.96.96 0 1 1 0-1.92a.96.96 0 0 1 0 1.92" fill=currentColor /></svg> </span>WeChat</button> <button class="text-sm dark:hover:bg-slate-700 items-center dark:text-gray-200 flex hover:bg-gray-100 px-4 py-2 text-gray-700 text-left w-full copy-link"><span class="h-4 w-4 mr-2" style=width:24px;height:24px><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg height=24 width=24 fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> </span>Copy Link</button></div></div><div class="flex items-center justify-center bg-black bg-opacity-50 fixed hidden inset-0 z-50" id=wechatQRModal><div class="flex items-center rounded-lg bg-white dark:bg-slate-800 flex-col max-w-sm p-6 w-full"><h3 class="mb-4 text-xl dark:text-white font-semibold text-gray-900">Share to WeChat</h3><p class="text-sm mb-4 dark:text-gray-300 text-gray-600">Please scan the QR code below with WeChat</p><div class="flex items-center mb-4 bg-white h-[200px] justify-center w-[200px]" id=qrcode></div><p class="text-sm mb-4 dark:text-gray-300 text-gray-600">Or copy the link to share manually</p><div class="flex w-full"><input type=text class="text-sm py-2 bg-gray-50 border border-gray-300 dark:bg-slate-700 dark:border-gray-600 dark:text-white flex-1 px-3 rounded-l-md text-gray-900" value=https://tannisanta.github.io/inwriting/blog/cloudflare-pages-deployment-guide-zh/ readonly=readonly> <button class="text-sm py-2 px-4 bg-indigo-600 hover:bg-indigo-700 rounded-r-md text-white" id=copyInModal>Copy</button></div><button class="dark:text-indigo-400 text-indigo-600 hover:underline mt-4" id=closeModal>Close</button></div></div></div></div></header><div class="mb-8 xl:hidden"><nav class="mb-8 bg-slate-50 dark:bg-slate-800 not-prose p-4 rounded-lg sticky toc top-4"><h2 class="font-semibold mb-3 text-lg">Table of Contents</h2><ul class=space-y-1><li class><a href=#为什么选择cloudflare-pages class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">为什么选择Cloudflare Pages？</a></li><li class=ml-4><a href=#性能优势 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">🚀 **性能优势**</a></li><li class=ml-4><a href=#成本效益 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">💰 **成本效益**</a></li><li class=ml-4><a href=#开发体验 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">🛠️ **开发体验**</a></li><li class><a href=#部署前的准备工作 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">部署前的准备工作</a></li><li class=ml-4><a href=#1-项目要求检查 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">1. 项目要求检查</a></li><li class=ml-4><a href=#2-项目结构优化 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">2. 项目结构优化</a></li><li class><a href=#cloudflare-pages配置详细步骤 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">Cloudflare Pages配置详细步骤</a></li><li class=ml-4><a href=#第一步登录和项目创建 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第一步：登录和项目创建</a></li><li class=ml-4><a href=#第二步连接git仓库 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第二步：连接Git仓库</a></li><li class=ml-4><a href=#第三步构建配置 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第三步：构建配置</a></li><li class=ml-4><a href=#第四步环境变量设置 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第四步：环境变量设置</a></li><li class=ml-4><a href=#第五步高级配置 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第五步：高级配置</a></li><li class><a href=#自定义域名配置指南 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">自定义域名配置指南</a></li><li class=ml-4><a href=#准备工作 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">准备工作</a></li><li class=ml-4><a href=#配置步骤详解 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">配置步骤详解</a></li><li class=ml-4><a href=#域名配置验证 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">域名配置验证</a></li><li class><a href=#性能优化技巧 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">性能优化技巧</a></li><li class=ml-4><a href=#1-缓存策略优化 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">1. 缓存策略优化</a></li><li class=ml-4><a href=#2-压缩和优化 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">2. 压缩和优化</a></li><li class=ml-4><a href=#3-重定向规则 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">3. 重定向规则</a></li><li class><a href=#监控和维护 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">监控和维护</a></li><li class=ml-4><a href=#部署监控 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">部署监控</a></li><li class=ml-4><a href=#常见问题排查 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">常见问题排查</a></li><li class><a href=#最佳实践总结 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">最佳实践总结</a></li><li class=ml-4><a href=#1-项目结构规范 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">1. 项目结构规范</a></li><li class=ml-4><a href=#2-部署流程规范 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">2. 部署流程规范</a></li><li class=ml-4><a href=#3-性能优化清单 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">3. 性能优化清单</a></li><li class=ml-4><a href=#4-安全配置清单 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">4. 安全配置清单</a></li><li class><a href=#结语 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">结语</a></li></ul></nav></div><div class="dark:prose-invert prose prose-headings:scroll-mt-20 prose-lg prose-slate"><h1 id=从零开始cloudflare-pages部署配置完全指南>从零开始：Cloudflare Pages部署配置完全指南<a href=#从零开始cloudflare-pages部署配置完全指南 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h1><p>在现代Web开发中，选择一个合适的部署平台对项目的成功至关重要。今天我要分享一个完整的Cloudflare Pages部署指南，包括从GitHub集成到自定义域名配置的全流程。</p><h2 id=为什么选择cloudflare-pages>为什么选择Cloudflare Pages？<a href=#为什么选择cloudflare-pages aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h2><p>在众多静态网站托管服务中，Cloudflare Pages具有以下显著优势：</p><h3 id=-性能优势>🚀 <strong>性能优势</strong><a href=#-性能优势 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ul><li><strong>全球CDN网络</strong>：Cloudflare在全球拥有200+个数据中心</li><li><strong>边缘计算</strong>：内容在离用户最近的节点提供服务</li><li><strong>自动优化</strong>：内置的图片优化、压缩和缓存策略</li><li><strong>HTTP/3支持</strong>：最新的网络协议，提供更快的连接速度</li></ul><h3 id=-成本效益>💰 <strong>成本效益</strong><a href=#-成本效益 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ul><li><strong>免费额度generous</strong>：每月100,000次请求免费</li><li><strong>带宽不限制</strong>：无论流量多大都不额外收费</li><li><strong>SSL证书免费</strong>：自动提供和更新SSL证书</li></ul><h3 id=️-开发体验>🛠️ <strong>开发体验</strong><a href=#️-开发体验 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ul><li><strong>Git集成</strong>：直接连接GitHub、GitLab等代码仓库</li><li><strong>自动部署</strong>：代码推送后自动触发构建和部署</li><li><strong>预览部署</strong>：每个分支和PR都可以生成预览URL</li><li><strong>即时回滚</strong>：一键回滚到任何历史版本</li></ul><h2 id=部署前的准备工作>部署前的准备工作<a href=#部署前的准备工作 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h2><h3 id=1-项目要求检查>1. 项目要求检查<a href=#1-项目要求检查 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p>在开始部署之前，确保你的项目满足以下条件：</p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># 检查Node.js版本（建议18.0以上）</span></span>
<span class=line><span style=color:#b392f0>node</span><span style=color:#79b8ff> --version</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 确保项目可以正常构建</span></span>
<span class=line><span style=color:#b392f0>npm</span><span style=color:#9ecbff> run</span><span style=color:#9ecbff> build</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 检查构建输出目录</span></span>
<span class=line><span style=color:#b392f0>ls</span><span style=color:#79b8ff> -la</span><span style=color:#9ecbff> dist/</span><span style=color:#6a737d>  # 或者你的输出目录</span></span></code></pre><h3 id=2-项目结构优化>2. 项目结构优化<a href=#2-项目结构优化 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p>对于最佳的部署体验，建议项目包含以下配置：</p><p><strong>package.json 脚本配置：</strong></p><pre class="astro-code github-dark" data-language=json style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#e1e4e8>{</span></span>
<span class=line><span style=color:#79b8ff>  &quot;scripts&quot;</span><span style=color:#e1e4e8>: {</span></span>
<span class=line><span style=color:#79b8ff>    &quot;build&quot;</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>&quot;你的构建命令&quot;</span><span style=color:#e1e4e8>,</span></span>
<span class=line><span style=color:#79b8ff>    &quot;preview&quot;</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>&quot;你的预览命令&quot;</span></span>
<span class=line><span style=color:#e1e4e8>  }</span></span>
<span class=line><span style=color:#e1e4e8>}</span></span></code></pre><p><strong>性能优化配置文件：</strong></p><p>创建 <code>public/_headers</code> 文件：</p><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span>/*</span></span>
<span class=line><span>  X-Frame-Options: DENY</span></span>
<span class=line><span>  X-Content-Type-Options: nosniff</span></span>
<span class=line><span>  X-XSS-Protection: 1; mode=block</span></span>
<span class=line><span>  Referrer-Policy: strict-origin-when-cross-origin</span></span>
<span class=line><span>  Cache-Control: public, max-age=31536000, immutable</span></span>
<span class=line><span></span></span>
<span class=line><span>/_astro/*</span></span>
<span class=line><span>  Cache-Control: public, max-age=31536000, immutable</span></span>
<span class=line><span></span></span>
<span class=line><span>/api/*</span></span>
<span class=line><span>  Cache-Control: no-cache, no-store, must-revalidate</span></span></code></pre><p>创建 <code>public/_redirects</code> 文件：</p><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span># SPA路由支持</span></span>
<span class=line><span>/blog/* /index.html 200</span></span>
<span class=line><span>/projects/* /index.html 200</span></span>
<span class=line><span></span></span>
<span class=line><span># 404处理</span></span>
<span class=line><span>/* /404.html 404</span></span></code></pre><h2 id=cloudflare-pages配置详细步骤>Cloudflare Pages配置详细步骤<a href=#cloudflare-pages配置详细步骤 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h2><h3 id=第一步登录和项目创建>第一步：登录和项目创建<a href=#第一步登录和项目创建 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ol><li><p><strong>访问Cloudflare控制台</strong></p><p>打开 <a href=https://dash.cloudflare.com/ >Cloudflare Dashboard</a>，使用你的账户登录。</p></li><li><p><strong>导航到Pages服务</strong></p><p>在左侧导航栏中找到并点击 “Pages” 选项。</p></li><li><p><strong>创建新项目</strong></p><p>点击页面右上角的 “创建项目” 按钮。</p></li></ol><h3 id=第二步连接git仓库>第二步：连接Git仓库<a href=#第二步连接git仓库 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ol><li><p><strong>选择Git集成</strong></p><p>在项目创建页面，选择 “连接到Git” 选项。</p></li><li><p><strong>授权GitHub访问</strong></p><p>如果是第一次使用，需要授权Cloudflare访问你的GitHub账户：</p><ul><li>点击 “GitHub” 选项</li><li>在弹出的GitHub授权页面点击 “Authorize Cloudflare”</li><li>选择要授权的仓库（可以选择全部或指定仓库）</li></ul></li><li><p><strong>选择目标仓库</strong></p><p>在仓库列表中找到并选择你的项目仓库，点击 “开始设置”。</p></li></ol><h3 id=第三步构建配置>第三步：构建配置<a href=#第三步构建配置 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p>这是最关键的一步，正确的配置决定了部署是否成功：</p><pre class="astro-code github-dark" data-language=yaml style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#85e89d>项目名称</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>my-awesome-website</span></span>
<span class=line><span style=color:#85e89d>生产分支</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>main</span><span style=color:#6a737d>  # 或者 master</span></span>
<span class=line><span style=color:#85e89d>构建命令</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>npm run build</span></span>
<span class=line><span style=color:#85e89d>构建输出目录</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>dist</span><span style=color:#6a737d>  # 根据你的项目调整</span></span>
<span class=line><span style=color:#85e89d>根目录</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>(留空，除非项目在子目录中)</span></span></code></pre><p><strong>框架预设配置：</strong></p><p>对于不同的框架，Cloudflare提供了预设配置：</p><ul><li><strong>Astro</strong>: 自动检测并配置构建命令</li><li><strong>Next.js</strong>: 支持静态导出和服务端渲染</li><li><strong>Vue.js</strong>: 支持Vue CLI和Vite项目</li><li><strong>React</strong>: 支持Create React App和其他构建工具</li><li><strong>静态HTML</strong>: 简单的静态文件项目</li></ul><h3 id=第四步环境变量设置>第四步：环境变量设置<a href=#第四步环境变量设置 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p>根据项目需求设置环境变量：</p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># 必需的环境变量</span></span>
<span class=line><span style=color:#e1e4e8>NODE_VERSION</span><span style=color:#f97583>=</span><span style=color:#9ecbff>18.20.8</span><span style=color:#6a737d>  # 指定Node.js版本</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 可选的环境变量示例</span></span>
<span class=line><span style=color:#e1e4e8>PUBLIC_SITE_URL</span><span style=color:#f97583>=</span><span style=color:#9ecbff>https://yourdomain.com</span></span>
<span class=line><span style=color:#e1e4e8>PUBLIC_API_BASE_URL</span><span style=color:#f97583>=</span><span style=color:#9ecbff>https://api.yourdomain.com</span></span></code></pre><p><strong>设置步骤：</strong></p><ol><li>在项目设置页面找到 “环境变量” 部分</li><li>点击 “添加变量”</li><li>输入变量名和值</li><li>选择环境（生产、预览或两者）</li></ol><h3 id=第五步高级配置>第五步：高级配置<a href=#第五步高级配置 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p><strong>构建配置优化：</strong></p><pre class="astro-code github-dark" data-language=yaml style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># 构建超时设置</span></span>
<span class=line><span style=color:#85e89d>构建超时</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>20分钟</span><span style=color:#6a737d>  # 根据项目复杂度调整</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 根目录设置</span></span>
<span class=line><span style=color:#85e89d>根目录</span><span style=color:#e1e4e8>: </span><span style=color:#9ecbff>&quot;&quot;</span><span style=color:#6a737d>  # 通常留空，除非项目在子目录</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 兼容性标志</span></span>
<span class=line><span style=color:#85e89d>兼容性日期</span><span style=color:#e1e4e8>: </span><span style=color:#79b8ff>2023-11-01</span><span style=color:#6a737d>  # 使用最新的兼容性设置</span></span></code></pre><p><strong>部署配置：</strong></p><ul><li><strong>生产部署</strong>: 仅在主分支（main/master）有更新时触发</li><li><strong>预览部署</strong>: 为所有分支和PR创建预览环境</li><li><strong>部署钩子</strong>: 配置Webhook用于自定义集成</li></ul><h2 id=自定义域名配置指南>自定义域名配置指南<a href=#自定义域名配置指南 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h2><h3 id=准备工作>准备工作<a href=#准备工作 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p>在配置自定义域名之前，确保：</p><ol><li><strong>域名所有权</strong>: 你拥有要绑定的域名</li><li><strong>DNS访问权限</strong>: 可以修改域名的DNS记录</li><li><strong>域名已解析</strong>: 基本的DNS设置已生效</li></ol><h3 id=配置步骤详解>配置步骤详解<a href=#配置步骤详解 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><h4 id=第一步添加自定义域名>第一步：添加自定义域名<a href=#第一步添加自定义域名 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h4><ol><li><p><strong>进入域名设置</strong></p><p>在你的Cloudflare Pages项目中，找到 “自定义域名” 选项卡。</p></li><li><p><strong>添加域名</strong></p><p>点击 “设置自定义域名”，输入你的域名（例如：<code>www.yourdomain.com</code>）。</p></li><li><p><strong>选择域名类型</strong></p><ul><li><strong>根域名</strong>: <code>yourdomain.com</code></li><li><strong>子域名</strong>: <code>www.yourdomain.com</code>、<code>blog.yourdomain.com</code></li></ul></li></ol><h4 id=第二步dns记录配置>第二步：DNS记录配置<a href=#第二步dns记录配置 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h4><p>根据域名类型，需要添加不同的DNS记录：</p><p><strong>对于子域名（推荐）：</strong></p><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span>类型: CNAME</span></span>
<span class=line><span>名称: www</span></span>
<span class=line><span>目标: your-project.pages.dev</span></span>
<span class=line><span>TTL: 自动</span></span></code></pre><p><strong>对于根域名：</strong></p><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span>类型: CNAME</span></span>
<span class=line><span>名称: @</span></span>
<span class=line><span>目标: your-project.pages.dev</span></span>
<span class=line><span>TTL: 自动</span></span></code></pre><h4 id=第三步dns设置详细步骤>第三步：DNS设置详细步骤<a href=#第三步dns设置详细步骤 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h4><p>以下是在常见DNS服务商中的设置方法：</p><p><strong>1. 如果使用Cloudflare作为DNS服务商：</strong></p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#b392f0>1.</span><span style=color:#9ecbff> 登录Cloudflare</span><span style=color:#9ecbff> Dashboard</span></span>
<span class=line><span style=color:#b392f0>2.</span><span style=color:#9ecbff> 选择你的域名</span></span>
<span class=line><span style=color:#b392f0>3.</span><span style=color:#9ecbff> 进入&quot;DNS&quot;选项卡</span></span>
<span class=line><span style=color:#b392f0>4.</span><span style=color:#9ecbff> 点击&quot;添加记录&quot;</span></span>
<span class=line><span style=color:#b392f0>5.</span><span style=color:#9ecbff> 填写以下信息：</span></span>
<span class=line><span style=color:#b392f0>   -</span><span style=color:#9ecbff> 类型:</span><span style=color:#9ecbff> CNAME</span></span>
<span class=line><span style=color:#b392f0>   -</span><span style=color:#9ecbff> 名称:</span><span style=color:#9ecbff> www（或你要的子域名）</span></span>
<span class=line><span style=color:#b392f0>   -</span><span style=color:#9ecbff> 目标:</span><span style=color:#9ecbff> your-project.pages.dev</span></span>
<span class=line><span style=color:#b392f0>   -</span><span style=color:#9ecbff> 代理状态:</span><span style=color:#9ecbff> 已代理（橙色云朵）</span></span></code></pre><p><strong>2. 如果使用其他DNS服务商：</strong></p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#b392f0>1.</span><span style=color:#9ecbff> 登录你的域名提供商控制面板</span></span>
<span class=line><span style=color:#b392f0>2.</span><span style=color:#9ecbff> 找到DNS管理或域名解析设置</span></span>
<span class=line><span style=color:#b392f0>3.</span><span style=color:#9ecbff> 添加新的CNAME记录：</span></span>
<span class=line><span style=color:#b392f0>   -</span><span style=color:#9ecbff> 主机记录:</span><span style=color:#9ecbff> www</span></span>
<span class=line><span style=color:#b392f0>   -</span><span style=color:#9ecbff> 记录类型:</span><span style=color:#9ecbff> CNAME</span></span>
<span class=line><span style=color:#b392f0>   -</span><span style=color:#9ecbff> 记录值:</span><span style=color:#9ecbff> your-project.pages.dev</span></span>
<span class=line><span style=color:#b392f0>   -</span><span style=color:#9ecbff> TTL:</span><span style=color:#9ecbff> 600（或默认值）</span></span></code></pre><h4 id=第四步ssl证书配置>第四步：SSL证书配置<a href=#第四步ssl证书配置 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h4><p>Cloudflare会自动为你的自定义域名提供SSL证书：</p><ol><li><strong>证书申请</strong>: 添加域名后自动开始</li><li><strong>验证过程</strong>: 通常需要几分钟到几小时</li><li><strong>状态检查</strong>: 在Cloudflare Pages控制台查看证书状态</li></ol><p><strong>SSL配置选项：</strong></p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># 在Cloudflare SSL/TLS设置中</span></span>
<span class=line><span style=color:#b392f0>加密模式:</span><span style=color:#9ecbff> 完全（严格）</span><span style=color:#6a737d>  # 推荐设置</span></span>
<span class=line><span style=color:#b392f0>始终使用HTTPS:</span><span style=color:#9ecbff> 开启</span></span>
<span class=line><span style=color:#b392f0>HSTS:</span><span style=color:#9ecbff> 开启（可选，增强安全性）</span></span>
<span class=line><span style=color:#b392f0>最小TLS版本:</span><span style=color:#79b8ff> 1.2</span></span></code></pre><h3 id=域名配置验证>域名配置验证<a href=#域名配置验证 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p>配置完成后，通过以下步骤验证：</p><ol><li><p><strong>DNS传播检查</strong></p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># 使用dig命令检查DNS记录</span></span>
<span class=line><span style=color:#b392f0>dig</span><span style=color:#9ecbff> www.yourdomain.com</span><span style=color:#9ecbff> CNAME</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 或者使用在线工具</span></span>
<span class=line><span style=color:#6a737d># https://www.whatsmydns.net/</span></span></code></pre></li><li><p><strong>SSL证书验证</strong></p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># 检查SSL证书状态</span></span>
<span class=line><span style=color:#b392f0>curl</span><span style=color:#79b8ff> -I</span><span style=color:#9ecbff> https://www.yourdomain.com</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 查看证书详情</span></span>
<span class=line><span style=color:#b392f0>openssl</span><span style=color:#9ecbff> s_client</span><span style=color:#79b8ff> -connect</span><span style=color:#9ecbff> www.yourdomain.com:443</span></span></code></pre></li><li><p><strong>网站功能测试</strong></p><ul><li>访问主页面检查内容加载</li><li>测试不同路径的页面跳转</li><li>验证HTTPS重定向是否正常</li><li>检查移动端显示效果</li></ul></li></ol><h2 id=性能优化技巧>性能优化技巧<a href=#性能优化技巧 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h2><h3 id=1-缓存策略优化>1. 缓存策略优化<a href=#1-缓存策略优化 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p>通过 <code>_headers</code> 文件配置缓存：</p><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span># 静态资源长期缓存</span></span>
<span class=line><span>/_assets/*</span></span>
<span class=line><span>  Cache-Control: public, max-age=31536000, immutable</span></span>
<span class=line><span></span></span>
<span class=line><span># HTML文件短期缓存</span></span>
<span class=line><span>/*.html</span></span>
<span class=line><span>  Cache-Control: public, max-age=3600</span></span>
<span class=line><span></span></span>
<span class=line><span># API接口不缓存</span></span>
<span class=line><span>/api/*</span></span>
<span class=line><span>  Cache-Control: no-cache, no-store, must-revalidate</span></span></code></pre><h3 id=2-压缩和优化>2. 压缩和优化<a href=#2-压缩和优化 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span># 启用压缩</span></span>
<span class=line><span>/*</span></span>
<span class=line><span>  Content-Encoding: gzip</span></span>
<span class=line><span></span></span>
<span class=line><span># 安全头部设置</span></span>
<span class=line><span>/*</span></span>
<span class=line><span>  X-Frame-Options: DENY</span></span>
<span class=line><span>  X-Content-Type-Options: nosniff</span></span>
<span class=line><span>  X-XSS-Protection: 1; mode=block</span></span>
<span class=line><span>  Referrer-Policy: strict-origin-when-cross-origin</span></span></code></pre><h3 id=3-重定向规则>3. 重定向规则<a href=#3-重定向规则 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p>通过 <code>_redirects</code> 文件优化路由：</p><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span># 旧链接重定向</span></span>
<span class=line><span>/old-page  /new-page  301</span></span>
<span class=line><span></span></span>
<span class=line><span># SPA路由支持</span></span>
<span class=line><span>/app/*  /index.html  200</span></span>
<span class=line><span></span></span>
<span class=line><span># 移动端重定向</span></span>
<span class=line><span>/mobile/*  https://m.yourdomain.com/:splat  301</span></span></code></pre><h2 id=监控和维护>监控和维护<a href=#监控和维护 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h2><h3 id=部署监控>部署监控<a href=#部署监控 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ol><li><p><strong>构建状态监控</strong></p><ul><li>在Cloudflare Pages控制台查看构建日志</li><li>设置构建失败通知邮件</li><li>配置Webhook集成到Slack等工具</li></ul></li><li><p><strong>性能监控</strong></p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># 使用Lighthouse检测性能</span></span>
<span class=line><span style=color:#b392f0>npm</span><span style=color:#9ecbff> install</span><span style=color:#79b8ff> -g</span><span style=color:#9ecbff> lighthouse</span></span>
<span class=line><span style=color:#b392f0>lighthouse</span><span style=color:#9ecbff> https://yourdomain.com</span><span style=color:#79b8ff> --output</span><span style=color:#9ecbff> html</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 使用WebPageTest</span></span>
<span class=line><span style=color:#6a737d># https://www.webpagetest.org/</span></span></code></pre></li></ol><h3 id=常见问题排查>常见问题排查<a href=#常见问题排查 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><p><strong>构建失败问题：</strong></p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># 检查Node.js版本</span></span>
<span class=line><span style=color:#b392f0>Error:</span><span style=color:#9ecbff> Node.js</span><span style=color:#9ecbff> version</span><span style=color:#9ecbff> not</span><span style=color:#9ecbff> supported</span></span>
<span class=line><span style=color:#b392f0>解决方案:</span><span style=color:#9ecbff> 设置正确的NODE_VERSION环境变量</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 依赖安装失败</span></span>
<span class=line><span style=color:#b392f0>Error:</span><span style=color:#9ecbff> npm</span><span style=color:#9ecbff> install</span><span style=color:#9ecbff> failed</span></span>
<span class=line><span style=color:#b392f0>解决方案:</span><span style=color:#9ecbff> 检查package-lock.json是否提交，清理node_modules重新安装</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># 构建超时</span></span>
<span class=line><span style=color:#b392f0>Error:</span><span style=color:#9ecbff> Build</span><span style=color:#9ecbff> exceeded</span><span style=color:#9ecbff> time</span><span style=color:#9ecbff> limit</span></span>
<span class=line><span style=color:#b392f0>解决方案:</span><span style=color:#9ecbff> 优化构建脚本，减少不必要的依赖</span></span></code></pre><p><strong>域名访问问题：</strong></p><pre class="astro-code github-dark" data-language=bash style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span style=color:#6a737d># DNS未生效</span></span>
<span class=line><span style=color:#b392f0>问题:</span><span style=color:#9ecbff> 域名无法访问</span></span>
<span class=line><span style=color:#b392f0>解决方案:</span><span style=color:#9ecbff> 等待DNS传播（通常24-48小时），检查DNS记录配置</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d># SSL证书问题</span></span>
<span class=line><span style=color:#b392f0>问题:</span><span style=color:#9ecbff> HTTPS访问报错</span></span>
<span class=line><span style=color:#b392f0>解决方案:</span><span style=color:#9ecbff> 等待证书签发完成，检查证书状态</span></span></code></pre><h2 id=最佳实践总结>最佳实践总结<a href=#最佳实践总结 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h2><h3 id=1-项目结构规范>1. 项目结构规范<a href=#1-项目结构规范 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><pre class="astro-code github-dark" data-language=plaintext style=background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word tabindex=0><code><span class=line><span>project/</span></span>
<span class=line><span>├── public/</span></span>
<span class=line><span>│   ├── _headers          # 性能和安全配置</span></span>
<span class=line><span>│   ├── _redirects        # 路由重定向规则</span></span>
<span class=line><span>│   └── assets/           # 静态资源</span></span>
<span class=line><span>├── src/                  # 源代码</span></span>
<span class=line><span>├── package.json          # 项目配置</span></span>
<span class=line><span>└── README.md            # 项目文档</span></span></code></pre><h3 id=2-部署流程规范>2. 部署流程规范<a href=#2-部署流程规范 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ol><li><strong>开发分支</strong>: <code>dev</code> 或 <code>develop</code></li><li><strong>预发布分支</strong>: <code>staging</code></li><li><strong>生产分支</strong>: <code>main</code> 或 <code>master</code></li><li><strong>功能分支</strong>: <code>feature/xxx</code></li></ol><h3 id=3-性能优化清单>3. 性能优化清单<a href=#3-性能优化清单 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ul class=contains-task-list><li class=task-list-item><input type=checkbox disabled=disabled /> 启用Gzip压缩</li><li class=task-list-item><input type=checkbox disabled=disabled /> 配置合适的缓存策略</li><li class=task-list-item><input type=checkbox disabled=disabled /> 优化图片资源（WebP格式）</li><li class=task-list-item><input type=checkbox disabled=disabled /> 压缩JavaScript和CSS文件</li><li class=task-list-item><input type=checkbox disabled=disabled /> 启用HTTP/2推送</li><li class=task-list-item><input type=checkbox disabled=disabled /> 配置CDN加速</li></ul><h3 id=4-安全配置清单>4. 安全配置清单<a href=#4-安全配置清单 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h3><ul class=contains-task-list><li class=task-list-item><input type=checkbox disabled=disabled /> 设置安全响应头</li><li class=task-list-item><input type=checkbox disabled=disabled /> 启用HTTPS强制重定向</li><li class=task-list-item><input type=checkbox disabled=disabled /> 配置内容安全策略（CSP）</li><li class=task-list-item><input type=checkbox disabled=disabled /> 启用HSTS</li><li class=task-list-item><input type=checkbox disabled=disabled /> 定期更新依赖包</li></ul><h2 id=结语>结语<a href=#结语 aria-hidden=true tabindex=-1><span class="icon icon-link"></span></a></h2><p>Cloudflare Pages为我们提供了一个强大、可靠且经济的静态网站托管解决方案。通过本文的详细指南，你应该能够：</p><ol><li><strong>完成基础部署</strong>: 从GitHub仓库到生产环境的完整流程</li><li><strong>配置自定义域名</strong>: 包括DNS设置和SSL证书配置</li><li><strong>优化网站性能</strong>: 通过缓存、压缩等技术提升用户体验</li><li><strong>建立监控体系</strong>: 确保网站稳定运行</li></ol><p>记住，部署只是开始，持续的优化和监控才能确保项目的长期成功。建议定期检查网站性能指标，根据用户反馈和数据分析不断改进。</p><p>如果在配置过程中遇到问题，不要犹豫，Cloudflare的官方文档和社区都是很好的资源。祝你的项目部署顺利！</p><hr/><p><em>本文基于实际项目配置经验编写，如有疑问欢迎在评论区交流讨论。</em></p></div><section class="border-slate-200 dark:border-slate-800 border-t mt-8 pt-8"><h3 class="mb-4 font-bold text-xl">Comments</h3><div class=giscus></div><script src=https://giscus.app/client.js async crossorigin=anonymous data-category=General data-category-id=DIC_kwDOOl9Jt84Cp3pA data-emit-metadata=0 data-input-position=top data-lang=en data-loading=lazy data-mapping=pathname data-reactions-enabled=1 data-repo=copyboy/whoami_blog_comment data-repo-id=R_kgDOOl9Jtw data-strict=0 data-theme=preferred_color_scheme></script><script>document.addEventListener("theme-change",(e=>{const t=document.querySelector("iframe.giscus-frame");if(!t)return;const s="dark"===e.detail.theme?"dark":"light";t.contentWindow.postMessage({giscus:{setConfig:{theme:"dark"===s?"dark":"light"}}},"https://giscus.app")}))</script></section></article><div class="rounded-md shadow-lg bg-green-500 bottom-4 duration-300 fixed px-4 py-2 right-4 text-white transform transition-transform translate-y-16 z-50" id=copyNotification>Link copied to clipboard!</div></div></main><aside class="bg-white border-slate-200 dark:bg-slate-900 dark:border-slate-800 hidden p-4 h-full shrink-0 border-l bottom-0 fixed overflow-y-auto right-0 top-0 xl:block xl:w-72"><div class="space-y-8 sticky top-4"><div><astro-island await-children client=idle component-export=default component-url=/inwriting/_astro/SidebarSearchIsland.uKkPdogu.js opts={&quot;name&quot;:&quot;SidebarSearchIsland&quot;,&quot;value&quot;:true} prefix=r0 props={&quot;placeholder&quot;:[0,&quot;Search&quot;]} renderer-url=/inwriting/_astro/client.CXm1OtE-.js ssr uid=1i7Hj><form action=/search class=relative method=get><div class="flex items-center absolute inset-y-0 left-0 pl-3 pointer-events-none"><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 class="h-5 w-5 text-slate-400"><circle cx=11 cy=11 r=8></circle><line x1=21 x2=16.65 y1=21 y2=16.65></line></svg></div><input type=search class="text-sm block bg-white border border-slate-200 dark:bg-slate-800 dark:border-slate-700 focus:border-indigo-500 focus:ring-indigo-500 p-2 pl-10 rounded-lg w-full" value="" id=sidebar-search name=q placeholder=Search /></form><!--astro:end--></astro-island></div><div><nav class="mb-8 bg-slate-50 dark:bg-slate-800 not-prose p-4 rounded-lg sticky toc top-4"><h2 class="font-semibold mb-3 text-lg">Table of Contents</h2><ul class=space-y-1><li class><a href=#为什么选择cloudflare-pages class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">为什么选择Cloudflare Pages？</a></li><li class=ml-4><a href=#性能优势 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">🚀 **性能优势**</a></li><li class=ml-4><a href=#成本效益 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">💰 **成本效益**</a></li><li class=ml-4><a href=#开发体验 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">🛠️ **开发体验**</a></li><li class><a href=#部署前的准备工作 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">部署前的准备工作</a></li><li class=ml-4><a href=#1-项目要求检查 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">1. 项目要求检查</a></li><li class=ml-4><a href=#2-项目结构优化 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">2. 项目结构优化</a></li><li class><a href=#cloudflare-pages配置详细步骤 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">Cloudflare Pages配置详细步骤</a></li><li class=ml-4><a href=#第一步登录和项目创建 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第一步：登录和项目创建</a></li><li class=ml-4><a href=#第二步连接git仓库 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第二步：连接Git仓库</a></li><li class=ml-4><a href=#第三步构建配置 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第三步：构建配置</a></li><li class=ml-4><a href=#第四步环境变量设置 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第四步：环境变量设置</a></li><li class=ml-4><a href=#第五步高级配置 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">第五步：高级配置</a></li><li class><a href=#自定义域名配置指南 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">自定义域名配置指南</a></li><li class=ml-4><a href=#准备工作 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">准备工作</a></li><li class=ml-4><a href=#配置步骤详解 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">配置步骤详解</a></li><li class=ml-4><a href=#域名配置验证 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">域名配置验证</a></li><li class><a href=#性能优化技巧 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">性能优化技巧</a></li><li class=ml-4><a href=#1-缓存策略优化 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">1. 缓存策略优化</a></li><li class=ml-4><a href=#2-压缩和优化 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">2. 压缩和优化</a></li><li class=ml-4><a href=#3-重定向规则 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">3. 重定向规则</a></li><li class><a href=#监控和维护 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">监控和维护</a></li><li class=ml-4><a href=#部署监控 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">部署监控</a></li><li class=ml-4><a href=#常见问题排查 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">常见问题排查</a></li><li class><a href=#最佳实践总结 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">最佳实践总结</a></li><li class=ml-4><a href=#1-项目结构规范 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">1. 项目结构规范</a></li><li class=ml-4><a href=#2-部署流程规范 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">2. 部署流程规范</a></li><li class=ml-4><a href=#3-性能优化清单 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">3. 性能优化清单</a></li><li class=ml-4><a href=#4-安全配置清单 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">4. 安全配置清单</a></li><li class><a href=#结语 class="transition-colors py-1 text-sm block dark:hover:text-indigo-400 hover:text-indigo-600">结语</a></li></ul></nav><script type=module>function r(){const t=new IntersectionObserver((t=>{t.forEach((t=>{const e=t.target.getAttribute("id");if(e){const o=document.querySelector(`.toc a[href="#${e}"]`);o&&t.isIntersecting&&(document.querySelectorAll(".toc a").forEach((t=>{t.classList.remove("text-indigo-600","dark:text-indigo-400","font-medium")})),o.classList.add("text-indigo-600","dark:text-indigo-400","font-medium"))}}))}),{root:null,rootMargin:"0px",threshold:.5});document.querySelectorAll("h2[id], h3[id]").forEach((e=>{t.observe(e)})),document.querySelectorAll('.toc a[href^="#"]').forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault();const o=t.getAttribute("href").substring(1),r=document.getElementById(o);r&&(r.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,null,`#${o}`))}))}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r()</script></div><div class="bg-slate-50 dark:bg-slate-800 p-4 rounded-lg"><div class="flex items-center justify-between mb-4"><h3 class="font-semibold text-lg">Top Tags(12)</h3><a href=/tags class="transition-colors flex items-center hover:text-indigo-600 dark:hover:text-indigo-300 dark:text-indigo-400 font-medium text-indigo-500 text-xs">View all <svg viewBox="0 0 20 20" xmlns=http://www.w3.org/2000/svg fill=currentColor class="ml-1 h-3 w-3"><path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule=evenodd fill-rule=evenodd></path></svg></a></div><div class="flex gap-2 flex-wrap"><a href=/tags/astro class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">Astro <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(2)</span> </a><a href=/tags/react class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">React <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(2)</span> </a><a href=/tags/tailwind-css class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">Tailwind CSS <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(2)</span> </a><a href=/tags/blog class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">Blog <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(2)</span> </a><a href=/tags/cloudflare class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">Cloudflare <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(1)</span> </a><a href=/tags/部署 class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">部署 <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(1)</span> </a><a href=/tags/静态网站 class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">静态网站 <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(1)</span> </a><a href=/tags/域名配置 class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">域名配置 <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(1)</span> </a><a href=/tags/性能优化 class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">性能优化 <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(1)</span> </a><a href=/tags/typescript class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">TypeScript <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(1)</span> </a><a href=/tags/official-theme class="transition-colors py-1 text-sm bg-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700 hover:bg-slate-200 px-3 rounded-full">Official Theme <span class="text-xs dark:text-slate-400 text-slate-500 ml-1">(1)</span></a></div></div></div></aside></div></body></html><script type=module src=/inwriting/_astro/_slug_.astro_astro_type_script_index_0_lang.qy6MrwF7.js></script>